"use strict";!function(){var t="https://cdn.rawgit.com/arkon/uoft-enrolment-charts/",r=function(t){$.getJSON("https://api.github.com/repos/arkon/uoft-enrolment-charts/git/trees/master?recursive=1",t)},e=function(t){return t.substring(t.indexOf("/")+1)},n=function(t){var r=t.lastIndexOf("/")+1,e=t.indexOf(".svg");return t.substring(r,e)},a=function(t){var r=t.tree.filter(function(t){return 0===t.path.indexOf("charts/")}),a=$("#courses");a.html("");for(var c,s,u=0;u<r.length;u++){var o=r[u];"tree"===o.type?(c=$("<details><summary>"+e(o.path)+"</summary></details>"),a.append(c)):"blob"===o.type&&(s=$("<li>").text(n(o.path)),s.addClass("course"),s.attr("data-chart",t.sha+"/"+o.path),c.append(s))}},c=function(t){var r=document.createElement("IMG");return r.src=t,r},s=function(){$(document).on("click",".course",function(r){var e=r.currentTarget.dataset.chart,n=c(t+e);$("#chart").html(n)})};!function(){r(a),s()}()}();